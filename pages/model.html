<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CO2App – Τεκμηρίωση / Documentation</title>
  <link rel="apple-touch-icon" href="../assets/icons/icon-192.png" />
  <link rel="icon" href="../assets/icons/icon-192.png" />
  
  <script src="../js/version.js"></script>

  <script>
    function loadAsset(type, path) {
      var v = (typeof APP_BUILD !== 'undefined') ? APP_BUILD : Date.now();
      if (type === 'css') {
        document.write('<link rel="stylesheet" href="' + path + '?v=' + v + '">');
      } else if (type === 'js') {
        document.write('<script src="' + path + '?v=' + v + '"><\/script>');
      }
    }
    
    // Φόρτωση CSS
    loadAsset('css', '../styles.css');
  </script>

  <style>
    /* Styling ειδικά για την τεκμηρίωση ώστε να ταιριάζει με το V4 content */
    .docPage h1 { font-size: 1.6rem; color: #2f4a31; margin-top: 1.2rem; margin-bottom: 0.5rem; }
    .docPage h2 { font-size: 1.3rem; color: #2f4a31; margin-top: 2rem; border-bottom: 1px solid #d8ddd8; padding-bottom: 6px; }
    .docPage h3 { font-size: 1.1rem; color: #2f4a31; margin-top: 1.5rem; margin-bottom: 0.5rem; }
    .docPage p, .docPage li { line-height: 1.6; color: #1f2a1f; margin-bottom: 10px; }
    
    .docPage .pill {
      display: inline-block; padding: 0.15rem 0.6rem; border-radius: 999px;
      background: rgba(49,78,78,0.08); margin-right: 0.35rem; font-size: 0.9rem; font-weight: bold;
    }
    .docPage .note {
      background: rgba(116,169,116,0.10);
      border-left: 4px solid #74a974;
      border-radius: 4px; padding: 0.9rem 1rem; margin: 1.2rem 0; font-size: 0.95rem;
    }
    .docPage .warn {
      background: rgba(255,159,64,0.12);
      border-left: 4px solid #f56c6c;
      border-radius: 4px; padding: 0.9rem 1rem; margin: 1.2rem 0; font-size: 0.95rem;
    }
    .docPage code { 
      background: #f4f6f4; color: #d63384; padding: 0.1rem 0.3rem; border-radius: 4px; font-family: monospace; font-size: 0.95em; 
    }
    .docPage pre {
      background: #2d2d2d; color: #f8f8f2; padding: 12px; border-radius: 6px; overflow-x: auto; font-family: monospace; margin: 10px 0;
    }
    .docPage table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.9rem; }
    .docPage th, .docPage td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    .docPage th { background-color: #f2f2f2; color: #333; }
    
    .docPage a.inline { text-decoration: none; color: #2f4a31; border-bottom: 1px dashed #2f4a31; }
    .docPage a.inline:hover { border-bottom: 1px solid #2f4a31; }

    .langBlock { display: none; }
    .langBlock.active { display: block; }
  </style>
</head>
<body>
  <div class="container">
    <div class="panel infoWide">
      <div class="topbar">
        <button class="iconBtn" id="menuBtn" aria-label="Menu"><span class="hamburger"><span></span></span></button>
        <div class="topbarSpacer"></div>
      </div>

      <div class="card">
        <div class="docPage">

          <div id="doc-el" class="langBlock">
            <h1>Τεκμηρίωση Μοντέλου (v4)</h1>

            <div class="note">
              <strong>Σκοπός:</strong> Η CO2App είναι εκπαιδευτικό εργαλείο που εκτιμά το ανθρακικό αποτύπωμα (kg ή t CO₂/έτος) από καθημερινές δραστηριότητες, με απλό αλλά αξιόπιστο τρόπο.
            </div>

            <p>
              Η τεκμηρίωση αφορά το μαθηματικό μοντέλο και τις παραδοχές. Για τον πλήρη πίνακα σταθερών και τις παραπομπές, δείτε τη σελίδα:
              <a class="inline" href="values.html">Σταθερές και Βιβλιογραφία</a>.
            </p>

            <h2>1. Σκοπός και Φιλοσοφία</h2>
            <p>Η εφαρμογή εκτιμά το <strong>ετήσιο ατομικό ανθρακικό αποτύπωμα</strong> με βάση επιλογές για την <strong>κατοικία</strong>, τις <strong>μεταφορές</strong> και τον <strong>τρόπο ζωής</strong>.</p>
            <p>Σχεδιάστηκε ώστε:</p>
            <ul>
              <li>Να αποτυπώνει <strong>τάξεις μεγέθους</strong> και να επιτρέπει συγκρίσεις.</li>
              <li>Να καθιστά ορατή τη <strong>σχετική βαρύτητα</strong> διαφορετικών επιλογών.</li>
              <li>Να είναι <strong>διαφανής</strong> (ανοιχτές σταθερές).</li>
              <li>Να υποστηρίζει <strong>σενάρια</strong> (what-if).</li>
            </ul>

            <h2>2. Βασική Δομή Υπολογισμού</h2>
            <p>Το συνολικό ετήσιο αποτύπωμα ορίζεται ως:</p>
            <pre>CO2_total = CO2_housing + CO2_transport + CO2_lifestyle</pre>
            <p>Οι τιμές υπολογίζονται σε kg CO₂/έτος και μετατρέπονται σε τόνους (t) για την τελική παρουσίαση.</p>

            <h2>3. Κατοικία (Housing)</h2>
            <p>Αναφέρεται σε μέσο διαμέρισμα <strong>100 m²</strong> (τυπική αναφορά) και περιλαμβάνει:</p>

            <h3>3.1 Θέρμανση χώρου</h3>
            <p>Εξαρτάται από τις θερμικές ανάγκες (kWh/έτος), τον τύπο κατοικίας και το μέσο θέρμανσης.</p>
            <pre>CO2_heating = (HeatingDemand_kWh × HomeTypeMultiplier / 1000) × HeatingIntensity</pre>
            <div class="note">
              <strong>Σημείωση:</strong> Η απόδοση (π.χ. SCOP αντλίας θερμότητας) είναι ενσωματωμένη στους συντελεστές έντασης, για απλούστευση προς τον χρήστη.
            </div>

            <h3>3.2 Ηλεκτρική κατανάλωση &amp; ΖΝΧ</h3>
            <p>Η λοιπή ηλεκτρική κατανάλωση (φωτισμός, συσκευές) και το Ζεστό Νερό Χρήσης (DHW) υπολογίζονται ξεχωριστά:</p>
            <pre>CO2_homeElec = HomeElec_kWh × Grid_Intensity / 1000</pre>
            <pre>CO2_DHW = (DHW_kWh_per_person × Occupants) × Grid_Intensity / 1000</pre>

            <h3>3.3 Κατανομή ανά ένοικο</h3>
            <p>Το τελικό αποτύπωμα κατοικίας διαιρείται με τον αριθμό ενοίκων:</p>
            <pre>CO2_housing = (CO2_heating + CO2_homeElec + CO2_DHW) / Occupants</pre>

            <h2>4. Μεταφορές (Transport)</h2>
            
            <h3>4.1 Χερσαίες μετακινήσεις</h3>
            <p>Υπολογίζονται βάσει της εβδομαδιαίας απόστασης (km) και του μέσου μεταφοράς.</p>
            <pre>CO2_road = (km_private × EF_private + km_public × EF_public) × 52 / 1000</pre>
            <ul>
              <li>Για τα <strong>ΙΧ</strong>, λαμβάνεται υπόψη αν ο χρήστης μετακινείται μόνος (διαίρεση δια 1) ή με άλλους (διαίρεση δια 2 κατά παραδοχή).</li>
              <li>Για τα <strong>Ηλεκτρικά (EV)</strong> και το <strong>Μετρό</strong>, οι εκπομπές εξαρτώνται από το ενεργειακό μίγμα της χώρας (Grid Intensity).</li>
            </ul>

            <h3>4.2 Αεροπορικά ταξίδια</h3>
            <p>Βασίζονται σε τυπικές μέσες αποστάσεις για εσωτερικό (Domestic) και εξωτερικό (Europe):</p>
            <pre>CO2_flights = (Trips_Dom × Dist_Dom × EF + Trips_EU × Dist_EU × EF) / 1000</pre>

            <h2>5. Τρόπος Ζωής (Lifestyle)</h2>

            <h3>5.1 Διατροφή</h3>
            <p>Η διατροφή προσεγγίζεται μέσω προφίλ που εφαρμόζουν συντελεστή σε μια "Τυπική" διατροφή αναφοράς (~2.0 tCO₂):</p>
            <table>
              <thead><tr><th>Προφίλ</th><th>Συντελεστής</th><th>Περιγραφή</th></tr></thead>
              <tbody>
                <tr><td>Vegan</td><td><strong>0.50</strong></td><td>Φυτική διατροφή</td></tr>
                <tr><td>Vegetarian</td><td><strong>0.65</strong></td><td>Γαλακτοκομικά/αυγά, όχι κρέας</td></tr>
                <tr><td>Mediterranean</td><td><strong>0.85</strong></td><td>Χαμηλή κατανάλωση κόκκινου κρέατος</td></tr>
                <tr><td>Typical (Mixed)</td><td><strong>1.00</strong></td><td>Μέση τυπική διατροφή</td></tr>
                <tr><td>Meat-heavy</td><td><strong>1.40</strong></td><td>Υψηλή κατανάλωση βοδινού</td></tr>
              </tbody>
            </table>

            <h3>5.2 Αγαθά &amp; Ψηφιακό Αποτύπωμα</h3>
            <p>Υπολογίζονται μέσω sliders που αυξομειώνουν μια τυπική τιμή βάσης:</p>
            <pre>CO2_goods = Base_Goods_kg × Goods_Factor / 1000
CO2_digital = Base_Digital_kg × Digital_Factor / 1000</pre>

            <h2>6. Κοινωνικό Μερίδιο (Social Share)</h2>
            <p>Εκφράζει τις εκπομπές από δημόσιες υπηρεσίες και υποδομές που αναλογούν σε κάθε πολίτη. Είναι σταθερό ποσό.</p>
            <pre>CO2_social = SocialShare_kg / 1000</pre>

            <h2>7. Στόχος ΕΕ (2030)</h2>
            <p>Ως τιμή αναφοράς για βιώσιμο τρόπο ζωής τίθεται ο στόχος:</p>
            <ul><li><strong>2.50 tCO₂ / άτομο / έτος</strong></li></ul>

            <div class="note">
              Περισσότερες λεπτομέρειες για τις πηγές στο αρχείο <a class="inline" href="values.html">Σταθερές και Βιβλιογραφία</a>.
            </div>
          </div>

          <div id="doc-en" class="langBlock">
            <h1>Model Documentation (v4)</h1>

            <div class="note">
              <strong>Purpose:</strong> CO2App is an educational tool estimating the annual carbon footprint (kg or t CO₂/year) based on daily activities, in a simple yet reliable way.
            </div>

            <p>
              This documentation covers the mathematical model and assumptions. For the full table of constants and references, please see:
              <a class="inline" href="values.html">Values &amp; References</a>.
            </p>

            <h2>1. Purpose &amp; Philosophy</h2>
            <p>The app estimates <strong>individual annual carbon footprint</strong> based on choices regarding <strong>housing</strong>, <strong>transport</strong>, and <strong>lifestyle</strong>.</p>
            <p>Designed to:</p>
            <ul>
              <li>Illustrate <strong>orders of magnitude</strong> and allow comparisons.</li>
              <li>Highlight the <strong>relative weight</strong> of different choices.</li>
              <li>Be <strong>transparent</strong> (open constants).</li>
              <li>Support <strong>what-if scenarios</strong>.</li>
            </ul>

            <h2>2. Calculation Structure</h2>
            <p>Total annual footprint is defined as:</p>
            <pre>CO2_total = CO2_housing + CO2_transport + CO2_lifestyle</pre>
            <p>Values are calculated in kg CO₂/year and converted to tons (t) for display.</p>

            <h2>3. Housing</h2>
            <p>Refers to a standard <strong>100 m²</strong> apartment reference and includes:</p>

            <h3>3.1 Space Heating</h3>
            <p>Depends on thermal needs (kWh/year), home type, and heating source.</p>
            <pre>CO2_heating = (HeatingDemand_kWh × HomeTypeMultiplier / 1000) × HeatingIntensity</pre>
            <div class="note">
              <strong>Note:</strong> Efficiency (e.g., Heat Pump SCOP) is integrated into the intensity factors for simplicity.
            </div>

            <h3>3.2 Electricity &amp; DHW</h3>
            <p>Other electricity consumption (appliances, lighting) and Domestic Hot Water (DHW) are calculated separately:</p>
            <pre>CO2_homeElec = HomeElec_kWh × Grid_Intensity / 1000</pre>
            <pre>CO2_DHW = (DHW_kWh_per_person × Occupants) × Grid_Intensity / 1000</pre>

            <h3>3.3 Allocation per occupant</h3>
            <p>The final housing footprint is divided by the number of occupants:</p>
            <pre>CO2_housing = (CO2_heating + CO2_homeElec + CO2_DHW) / Occupants</pre>

            <h2>4. Transport</h2>
            
            <h3>4.1 Land Transport</h3>
            <p>Calculated based on weekly distance (km) and mode of transport.</p>
            <pre>CO2_road = (km_private × EF_private + km_public × EF_public) × 52 / 1000</pre>
            <ul>
              <li>For <strong>Cars</strong>, we consider if the user travels alone (divide by 1) or carpools (divide by 2, assumption).</li>
              <li>For <strong>EVs</strong> and <strong>Metro/Tram</strong>, emissions depend on the national Grid Intensity.</li>
            </ul>

            <h3>4.2 Air Travel</h3>
            <p>Based on typical average distances for Domestic and European flights:</p>
            <pre>CO2_flights = (Trips_Dom × Dist_Dom × EF + Trips_EU × Dist_EU × EF) / 1000</pre>

            <h2>5. Lifestyle</h2>

            <h3>5.1 Diet</h3>
            <p>Diet is approximated via profiles applying a factor to a "Typical" reference diet (~2.0 tCO₂):</p>
            <table>
              <thead><tr><th>Profile</th><th>Factor</th><th>Description</th></tr></thead>
              <tbody>
                <tr><td>Vegan</td><td><strong>0.50</strong></td><td>Plant-based</td></tr>
                <tr><td>Vegetarian</td><td><strong>0.65</strong></td><td>Dairy/eggs, no meat</td></tr>
                <tr><td>Mediterranean</td><td><strong>0.85</strong></td><td>Low red meat consumption</td></tr>
                <tr><td>Typical (Mixed)</td><td><strong>1.00</strong></td><td>Average mixed diet</td></tr>
                <tr><td>Meat-heavy</td><td><strong>1.40</strong></td><td>High beef consumption</td></tr>
              </tbody>
            </table>

            <h3>5.2 Goods &amp; Digital Footprint</h3>
            <p>Calculated via sliders adjusting a base typical value:</p>
            <pre>CO2_goods = Base_Goods_kg × Goods_Factor / 1000
CO2_digital = Base_Digital_kg × Digital_Factor / 1000</pre>

            <h2>6. Social Share</h2>
            <p>Represents emissions from public services and infrastructure allocated to each citizen. It is a fixed amount.</p>
            <pre>CO2_social = SocialShare_kg / 1000</pre>

            <h2>7. EU Target (2030)</h2>
            <p>The reference target for a sustainable lifestyle is set at:</p>
            <ul><li><strong>2.50 tCO₂ / person / year</strong></li></ul>

            <div class="note">
              More details on sources in <a class="inline" href="values.html">Values &amp; References</a>.
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="drawerBackdrop" id="drawerBackdrop" aria-hidden="true"></div>
  <nav class="drawer" id="drawer" aria-hidden="true">
    <div class="drawerHeader">
      <div class="drawerTitle">CO2App</div>
      <button class="drawerClose" id="drawerClose" aria-label="close">×</button>
    </div>
    <div class="drawerNav" id="drawerNav"></div>
    <div class="drawerLang" id="drawerLang"></div>
  </nav>

  <script>
    loadAsset('js', '../js/common.js');
    loadAsset('js', '../js/menu.js');
  </script>

  <div id="versionDisplay" style="text-align:center; font-size:0.85rem; color:#888; margin-top:2rem; margin-bottom:1rem; opacity:0.7;"></div>

  <script>
    if (document.getElementById('versionDisplay') && typeof APP_VER !== 'undefined') {
      document.getElementById('versionDisplay').innerText = 'v' + APP_VER;
    }
  </script>

  <script>
    function applyLang(){
      const lang = (localStorage.getItem('lang') || 'el');
      document.getElementById('doc-el').classList.toggle('active', lang === 'el');
      document.getElementById('doc-en').classList.toggle('active', lang === 'en');
      document.documentElement.lang = lang;
      document.title = (lang === 'en') ? 'CO2App – Documentation' : 'CO2App – Τεκμηρίωση';
    }
    document.addEventListener('DOMContentLoaded', applyLang);
  </script>
</body>
</html>
